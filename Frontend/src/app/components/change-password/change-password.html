<div class="cp-wrapper">
  <div class="cp-container">
    <div class="cp-header">
      <a routerLink="/" class="logo">Pay<span class="logo-accent">Roll</span></a>
      <h2>Change Your Password</h2>
      <p class="subtitle">Please enter your current and new password below.</p>
    </div>

    <form [formGroup]="changePasswordForm" (ngSubmit)="onSubmit()" novalidate>
      <div class="form-group">
        <label for="currentPassword">Current Password</label>
        <input id="currentPassword" type="password" formControlName="currentPassword">
      </div>
      <div class="form-group">
        <label for="newPassword">New Password</label>
        <input id="newPassword" type="password" formControlName="newPassword">
      </div>
      <div class="form-group">
        <label for="confirmPassword">Re-enter New Password</label>
        <input id="confirmPassword" type="password" formControlName="confirmPassword">
        <div *ngIf="changePasswordForm.hasError('passwordMismatch') && f['confirmPassword'].touched" class="error-text">
          New passwords do not match.
        </div>
      </div>

      <button type="submit" class="btn-primary" [disabled]="isLoading || changePasswordForm.invalid">
        <span *ngIf="!isLoading">Update Password</span>
        <span *ngIf="isLoading">Updating...</span>
      </button>
    </form>
    
    <div class="back-to-dashboard">
      <!-- This link should ideally go back to the dashboard or settings page -->
      <a routerLink="/">‚Üê Back to Safety</a>
    </div>
  </div>
</div>
