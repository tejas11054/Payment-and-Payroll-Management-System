<div class="login-wrapper">
  <!-- Header with Logo and Register Link -->
  <header class="login-header">
    <a routerLink="/" class="logo">Pay<span class="logo-accent">Roll</span></a>
    <p>Don't have an account? <a routerLink="/register" class="register-link">Sign Up</a></p>
  </header>

  <!-- Form Container -->
  <div class="form-container">
    <h2>Welcome Back!</h2>
    <p class="subtitle">Sign in to continue to your dashboard.</p>

    <form [formGroup]="loginForm" (ngSubmit)="onSubmit()" novalidate>
      <!-- Email -->
      <div class="form-group">
        <label for="email">Email Address</label>
        <input id="email" type="email" formControlName="email" placeholder="you@example.com">
        <div *ngIf="f['email'].invalid && f['email'].touched" class="error-text">
          Please enter a valid email.
        </div>
      </div>
  <!-- Password -->
      <div class="form-group">
        <label for="password">Password</label>
        <!-- Naya wrapper div -->
        <div class="password-input-wrapper">
          <input id="password" [type]="passwordFieldType" formControlName="password" placeholder="••••••••">
          <!-- Eye icon button -->
          <button type="button" class="password-toggle-btn" (click)="togglePasswordVisibility()">
            <!-- Show Eye Icon when password is hidden -->
            <svg *ngIf="passwordFieldType === 'password'" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" d="M2.036 12.322a1.012 1.012 0 010-.639l4.418-5.523A1.012 1.012 0 017.32 5.5h9.36a1.012 1.012 0 01.718.351l4.418 5.523a1.012 1.012 0 010 .639l-4.418 5.523A1.012 1.012 0 0116.68 18.5H7.32a1.012 1.012 0 01-.718-.351l-4.418-5.523z" /><path stroke-linecap="round" stroke-linejoin="round" d="M15 12a3 3 0 11-6 0 3 3 0 016 0z" /></svg>
            <!-- Show Slashed Eye Icon when password is visible -->
            <svg *ngIf="passwordFieldType === 'text'" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" d="M3.98 8.223A10.477 10.477 0 001.934 12C3.226 16.338 7.244 19.5 12 19.5c.993 0 1.953-.138 2.863-.395M6.228 6.228A10.45 10.45 0 0112 4.5c4.756 0 8.773 3.162 10.065 7.498a10.523 10.523 0 01-4.293 5.774M6.228 6.228L3 3m3.228 3.228l3.65 3.65m7.894 7.894L21 21m-3.228-3.228l-3.65-3.65m0 0a3 3 0 10-4.243-4.243m4.243 4.243l-4.243-4.243" /></svg>
          </button>
        </div>
        <div *ngIf="f['password'].invalid && f['password'].touched" class="error-text">
          Password is required.
        </div>
      </div>
         <div class="extra-options">
        <a routerLink="/forgot-password" class="forgot-password">Forgot Password?</a>
      </div>
           <!-- CAPTCHA ELEMENT -->
      <div class="form-group captcha-container">
        <ngx-recaptcha2 #captchaElem
          [siteKey]="siteKey"
          formControlName="recaptcha">
        </ngx-recaptcha2>
        <div *ngIf="f['recaptcha'].invalid && f['recaptcha'].touched" class="error-text">
          Verification is required.
        </div>
      </div>
      <!-- Submit Button -->
      <button type="submit" class="btn btn-primary" [disabled]="isLoading">
        <span *ngIf="!isLoading">Sign In</span>
        <span *ngIf="isLoading">Signing In...</span>
      </button>
    </form>
  </div>
</div>
